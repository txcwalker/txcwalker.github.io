{{/* layouts/shortcodes/round_odds_table.html */}}
{{ $root := site.Data.round_odds }}
{{ $rows := cond (isset $root "round_odds") $root.round_odds $root }}

{{- if not $rows -}}
  <p><em>Error: data/round_odds.json missing or empty.</em></p>
{{- else -}}
<link rel="stylesheet" href="/css/table_style.css">

<label for="teamSelect">Select Teams:</label>
<select id="teamSelect" multiple>
  {{- range $rows -}}
    <option value="{{ index . "Team" }}">{{ index . "Team" }}</option>
  {{- end -}}
</select>
<button id="searchButton">Show Selected Teams</button>

<div class="table-container">
  <table class="styled-table" id="oddsTable" style="display:none;">
    <thead>
      <tr>
        <th onclick="sortTable(0)">Team</th>
        <th onclick="sortTable(1)">Sweet Sixteen Odds</th>
        <th onclick="sortTable(2)">Elite Eight Odds</th>
        <th onclick="sortTable(3)">Final Four Odds</th>
        <th onclick="sortTable(4)">Championship Odds</th>
      </tr>
    </thead>
    <tbody>
      {{- range $rows -}}
        <tr class="team-row" data-team="{{ index . "Team" }}" style="display:none;">
          <td>{{ index . "Team" }}</td>
          <td>{{ index . "Sweet_Sixteen_Odds" }}</td>
          <td>{{ index . "Elite_Eight_Odds" }}</td>
          <td>{{ index . "Final_Four_Odds" }}</td>
          <td>{{ index . "Championship_Odds" }}</td>
        </tr>
      {{- end -}}
    </tbody>
  </table>
</div>

<script src="/js/round_odds.js"></script>
{{- end -}}
